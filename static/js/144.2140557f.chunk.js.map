{"version":3,"file":"static/js/144.2140557f.chunk.js","mappings":"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","sources":["components/MoviesList.jsx","pages/Api.jsx","webpack://react-homework-template/./src/components/MovieSearch/MovieSearchForm/movie-search-form.module.css?c6cf","components/MovieSearch/MovieSearchForm/MovieSearchForm.jsx","webpack://react-homework-template/./src/components/MovieSearch/movie-search.module.css?104e","components/MovieSearch/MovieSearch.jsx","pages/MovesPage/MovesPage.jsx"],"sourcesContent":["import { Link, useLocation } from 'react-router-dom';\n\nconst MoviesList = ({ movies }) => {\n  const locations = useLocation();\n  return (\n    <ul className=\"style-film\">\n      {movies.map(({ id, title, poster }) => (\n        <li key={id} title={title} poster={poster}>\n          <Link to={`/movies/${id}`} state={{ from: locations }}>\n            {title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n};\nexport default MoviesList;\n","import axios from 'axios';\n\nconst API_KEY = '344c7270581ee8890ac0e8ee75ba983e';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst params = {\n  params: {\n    api_key: API_KEY,\n    language: 'en-US',\n    include_adult: false,\n  },\n};\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n});\n\nexport const searchMovies = (query, page = 1) => {\n  return instance.get(`/search/movie?query=${query}&page=${page}`, params);\n};\n\nexport const fetchMovies = async () => {\n  const { data } = await axios.get(`trending/movie/day`, params);\n  return data;\n};\n\nexport const getMovieById = async movieId => {\n  const response = await axios.get(`/movie/${movieId}`, params);\n  return response.data;\n};\n\nexport const fetchMovieCast = async movieId => {\n  const response = await axios.get(`/movie/${movieId}/credits?`, params);\n  return response.data.cast;\n};\n\nexport const fetchMovieReviews = async movieId => {\n  const response = await axios.get(`/movie/${movieId}/reviews`, params);\n  return response.data.results;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"movie-search-form_form__+QUgx\",\"fieldGroup\":\"movie-search-form_fieldGroup__i+5LY\"};","import { useState, useRef, useEffect } from 'react';\nimport styles from './movie-search-form.module.css';\n\nconst MovieSearchForm = ({ onSubmit }) => {\n  const [state, setState] = useState({\n    search: '',\n  });\n\n  const inputRef = useRef(null);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, []);\n\n  const handleChange = ({ target }) => {\n    const { name, value } = target;\n    setState({\n      ...state,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit({ ...state });\n    reset();\n  };\n\n  const reset = () => {\n    setState({\n      search: '',\n    });\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={styles.form}>\n      <div className={styles.fieldGroup}>\n        {/* <label>Enter search phrase</label> */}\n        <input\n          ref={inputRef}\n          value={state.search}\n          onChange={handleChange}\n          required\n          type=\"text\"\n          name=\"search\"\n          placeholder=\"Enter search phrase\"\n        />\n      </div>\n      <button type=\"submit\">Search</button>\n    </form>\n  );\n};\nexport default MovieSearchForm;\n\n// import { Component } from 'react';\n// import styles from './movie-search-form.module.css';\n\n// class MovieSearchForm extends Component {\n//   state = {\n//     search: '',\n//   };\n\n//   handleChange = ({ target }) => {\n//     const { name, value } = target;\n//     this.setState({\n//       [name]: value,\n//     });\n//   };\n//   handleSubmit = e => {\n//     e.preventDefault();\n//     this.props.onSubmit({ ...this.state });\n//     this.setState({\n//       search: '',\n//     });\n//   };\n\n//   render() {\n//     const { handleChange, handleSubmit } = this;\n//     const { search } = this.state;\n//     return (\n//       <form onSubmit={handleSubmit} className={styles.form}>\n//         <div className={styles.fieldGroup}>\n//           {/* <label>Enter search phrase</label> */}\n//           <input\n//             value={search}\n//             onChange={handleChange}\n//             required\n//             type=\"text\"\n//             name=\"search\"\n//             placeholder=\"Enter search phrase\"\n//           />\n//         </div>\n//         <button type=\"submit\">Search</button>\n//       </form>\n//     );\n//   }\n// }\n// export default MovieSearchForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"error\":\"movie-search_error__Kryyv\",\"list\":\"movie-search_list__9nSVn\"};","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport { searchMovies } from 'pages/Api';\nimport MovieSearchForm from './MovieSearchForm/MovieSearchForm';\nimport MoviesList from 'components/MoviesList';\n\n// import Button from 'components/Button/Button';\n\nimport styles from './movie-search.module.css';\n\nconst MovieSearch = () => {\n  const [movies, setMovies] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const search = searchParams.get('search');\n  const page = searchParams.get('page');\n\n  useEffect(() => {\n    const fetchMovies = async () => {\n      try {\n        setLoading(true);\n        const { data } = await searchMovies(search, page);\n        setMovies(prevMovies =>\n          data.results?.length ? [...prevMovies, ...data.results] : prevMovies\n        );\n      } catch (error) {\n        setError(error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    if (search) {\n      fetchMovies();\n    }\n  }, [search, page]);\n\n  const handalSearch = ({ search }) => {\n    setSearchParams({ search, page: 1 });\n    setMovies([]);\n  };\n\n  // const loadMore = () => setSearchParams({ search, page: Number(page) + 1 });\n\n  const isMovies = Boolean(movies.length);\n  // const isMoreMovies = Boolean(movies.length % 20 === 0);\n  return (\n    <>\n      <MovieSearchForm onSubmit={handalSearch} />\n      {error && <p className={styles.error}>{error}</p>}\n      {loading && <p>...Loading</p>}\n      {isMovies && <MoviesList movies={movies} />}\n      {/* {isMovies && isMoreMovies && (\n        <Button className=\"button\" onClick={loadMore} type=\"button\">\n          Load more\n        </Button>\n      )} */}\n    </>\n  );\n};\n\nexport default MovieSearch;\n","import MovieSearch from 'components/MovieSearch/MovieSearch';\n\nconst MovesPage = () => {\n  return (\n    <div>\n      <MovieSearch />\n    </div>\n  );\n};\nexport default MovesPage;\n"],"names":["_ref","movies","locations","useLocation","_jsx","className","children","map","_ref2","id","title","poster","Link","to","concat","state","from","axios","params","api_key","language","include_adult","instance","baseURL","searchMovies","query","page","arguments","length","undefined","get","fetchMovies","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$axios$get","data","_context","prev","next","sent","abrupt","stop","apply","getMovieById","_callee2","movieId","response","_context2","_x","fetchMovieCast","_ref3","_callee3","_context3","cast","_x2","fetchMovieReviews","_ref4","_callee4","_context4","results","_x3","onSubmit","_useState","useState","search","_useState2","_slicedToArray","setState","inputRef","useRef","useEffect","current","focus","reset","_jsxs","e","preventDefault","_objectSpread","styles","ref","value","onChange","target","name","_defineProperty","required","type","placeholder","setMovies","_useState3","_useState4","loading","setLoading","_useState5","_useState6","error","setError","_useSearchParams","useSearchParams","_useSearchParams2","searchParams","setSearchParams","_yield$searchMovies","prevMovies","_data$results","_toConsumableArray","t0","message","finish","isMovies","Boolean","_Fragment","MovieSearchForm","MoviesList","MovieSearch"],"sourceRoot":""}