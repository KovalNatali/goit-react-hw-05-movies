"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[144],{130:function(e,r,t){var n=t(689),a=t(87),u=t(184);r.Z=function(e){var r=e.movies,t=(0,n.TH)();return(0,u.jsx)("ul",{className:"style-film",children:r.map((function(e){var r=e.id,n=e.title,c=e.poster;return(0,u.jsx)("li",{title:n,poster:c,children:(0,u.jsx)(a.rU,{to:"/movies/".concat(r),state:{from:t},children:n})},r)}))})}},899:function(e,r,t){t.d(r,{Hx:function(){return v},Pg:function(){return p},uV:function(){return l},vw:function(){return f},z1:function(){return o}});var n=t(861),a=t(757),u=t.n(a),c=t(294);c.Z.defaults.baseURL="https://api.themoviedb.org/3";var s={params:{api_key:"344c7270581ee8890ac0e8ee75ba983e",language:"en-US",include_adult:!1}},i=c.Z.create({baseURL:"https://api.themoviedb.org/3"}),o=function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return i.get("/search/movie?query=".concat(e,"&page=").concat(r),s)},f=function(){var e=(0,n.Z)(u().mark((function e(){var r,t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("trending/movie/day",s);case 2:return r=e.sent,t=r.data,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(u().mark((function e(r){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("/movie/".concat(r),s);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(u().mark((function e(r){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("/movie/".concat(r,"/credits?"),s);case 2:return t=e.sent,e.abrupt("return",t.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),v=function(){var e=(0,n.Z)(u().mark((function e(r){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("/movie/".concat(r,"/reviews"),s);case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}()},806:function(e,r,t){t.r(r),t.d(r,{default:function(){return b}});var n=t(433),a=t(861),u=t(439),c=t(757),s=t.n(c),i=t(791),o=t(87),f=t(899),p=t(942),l=t(413),v="movie-search-form_form__+QUgx",h="movie-search-form_fieldGroup__i+5LY",m=t(184),d=function(e){var r=e.onSubmit,t=(0,i.useState)({search:""}),n=(0,u.Z)(t,2),a=n[0],c=n[1],s=(0,i.useRef)(null);(0,i.useEffect)((function(){s.current.focus()}),[]);var o=function(){c({search:""})};return(0,m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r((0,l.Z)({},a)),o()},className:v,children:[(0,m.jsx)("div",{className:h,children:(0,m.jsx)("input",{ref:s,value:a.search,onChange:function(e){var r=e.target,t=r.name,n=r.value;c((0,l.Z)((0,l.Z)({},a),{},(0,p.Z)({},t,n)))},required:!0,type:"text",name:"search",placeholder:"Enter search phrase"})}),(0,m.jsx)("button",{type:"submit",children:"Search"})]})},x=t(130),g="movie-search_error__Kryyv",Z=function(){var e=(0,i.useState)([]),r=(0,u.Z)(e,2),t=r[0],c=r[1],p=(0,i.useState)(!1),l=(0,u.Z)(p,2),v=l[0],h=l[1],Z=(0,i.useState)(null),b=(0,u.Z)(Z,2),w=b[0],_=b[1],j=(0,o.lr)(),k=(0,u.Z)(j,2),y=k[0],S=k[1],U=y.get("search"),L=y.get("page");(0,i.useEffect)((function(){var e=function(){var e=(0,a.Z)(s().mark((function e(){var r,t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,(0,f.z1)(U,L);case 4:r=e.sent,t=r.data,c((function(e){var r;return null!==(r=t.results)&&void 0!==r&&r.length?[].concat((0,n.Z)(e),(0,n.Z)(t.results)):e})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),_(e.t0.message);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();U&&e()}),[U,L]);var N=Boolean(t.length);return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(d,{onSubmit:function(e){var r=e.search;S({search:r,page:1}),c([])}}),w&&(0,m.jsx)("p",{className:g,children:w}),v&&(0,m.jsx)("p",{children:"...Loading"}),N&&(0,m.jsx)(x.Z,{movies:t})]})},b=function(){return(0,m.jsx)("div",{children:(0,m.jsx)(Z,{})})}}}]);
//# sourceMappingURL=144.2140557f.chunk.js.map